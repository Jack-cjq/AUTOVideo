# 快速部署说明

根据你的服务器路径结构，项目已克隆到 `/var/www/autovideo/AUTOVideo/` 目录。

## 立即开始部署

### 1. 进入项目目录

```bash
cd /var/www/autovideo/AUTOVideo
```

### 2. 运行部署脚本

```bash
chmod +x deploy.sh
./deploy.sh
```

部署脚本会自动完成所有配置。

### 3. 配置环境变量

脚本运行后，需要编辑环境变量文件：

```bash
vim center_code/backend/.env
```

**必须修改的配置项**：
- `DB_PASSWORD`: 你的 MySQL 数据库密码
- `DEEPSEEK_API_KEY`: DeepSeek API 密钥（如果有）
- `BAIDU_APP_ID`, `BAIDU_API_KEY`, `BAIDU_SECRET_KEY`: 百度 TTS 配置（如果有）

### 4. 初始化数据库（如果脚本未自动执行）

```bash
cd center_code/backend
source venv/bin/activate
export $(cat .env | grep -v '^#' | xargs)
python init_database.py
python init_user.py
```

### 5. 检查服务状态

```bash
# 查看服务状态
sudo systemctl status autovideo

# 查看日志
sudo journalctl -u autovideo -f
```

### 6. 访问网站

部署完成后，通过以下地址访问：
- 如果配置了域名: `http://your_domain.com`
- 如果使用 IP: `http://your_server_ip`

## 项目路径结构

```
/var/www/autovideo/AUTOVideo/
├── center_code/
│   ├── backend/          # 后端代码
│   │   ├── venv/         # Python 虚拟环境（部署后创建）
│   │   ├── .env          # 环境变量文件（需要配置）
│   │   └── static/       # 前端构建产物（构建后生成）
│   └── frontend/         # 前端代码
├── deploy.sh             # 部署脚本
└── ...
```

## 常用命令

```bash
# 重启服务
sudo systemctl restart autovideo

# 查看服务日志
sudo journalctl -u autovideo -f

# 查看 Nginx 日志
sudo tail -f /var/log/nginx/autovideo_error.log

# 进入后端目录
cd /var/www/autovideo/AUTOVideo/center_code/backend

# 激活虚拟环境
source venv/bin/activate
```

## 默认登录账号

- 用户名: `hbut`
- 密码: `dydy?123`

## 遇到问题？

查看详细文档：
- `DEPLOYMENT_GUIDE.md` - 完整部署指南
- `DEPLOYMENT_QUICKSTART.md` - 快速开始指南

